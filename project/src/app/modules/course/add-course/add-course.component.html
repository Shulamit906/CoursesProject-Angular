<form [formGroup]="courseForm" (ngSubmit)="onSubmit()">
    <div>
        <label for="name">Course Name:</label>
        <input type="text" id="name" formControlName="name">
        <!-- <div *ngIf="courseForm.get('name')?.invalid && courseForm.get('name')?.touched" class="error-message">
            Course name is required
        </div> -->
        <mat-error *ngIf="courseForm.get('name')?.hasError('required')">Course Name is required</mat-error>

     

    </div>
    <div class="form-group">
        <label for="categoryId">Category:</label>
        <select class="form-control" id="categoryId" formControlName="categoryId" required>
            <option *ngFor="let category of categories" [value]="category.id">{{ category.name }}</option>
        </select>
        <mat-error *ngIf="courseForm.get('categoryId')?.hasError('required')">Category is required</mat-error>

    </div>

    <div>
        <label for="lessonCount">Lesson Count:</label>
        <input type="number" id="lessonCount" formControlName="lessonCount">
        <!-- <div *ngIf="courseForm.get('lessonCount')?.invalid && courseForm.get('lessonCount')?.touched"
            class="error-message">
            Lesson count is required
        </div> -->
        <mat-error *ngIf="courseForm.get('lessonCount')?.hasError('required')">Lesson count is required</mat-error>
        <mat-error *ngIf="courseForm.get('lessonCount')?.hasError('min')">Lesson count must be at least 3</mat-error>
    </div>

    <div>
        <label for="startDate">Start Date:</label>
        <input type="date" id="startDate" formControlName="startDate">
        <!-- <div *ngIf="courseForm.get('startDate')?.invalid && courseForm.get('startDate')?.touched" class="error-message">
            Start date is required
        </div> -->
        <mat-error *ngIf="courseForm.get('startDate')?.hasError('required')">Start Date is required</mat-error>

    </div>

    <div formArrayName="syllabus">
        <label for="syllabus">Syllabus: </label>
        <div *ngFor="let syllabusControl of syllabusControls.controls; let i = index;">
            <input type="text" [formControlName]="i" (change)="onInputChange()">

        </div>
        <mat-error *ngIf="courseForm.get('syllabus')?.hasError('required')">Syllabus is required</mat-error>

    </div>

    <div class="form-group">
        <label for="learningMode">Learning Mode</label>
        <select class="form-control" id="learningMode" formControlName="learningMode">
            <option value="1">Frontal</option>
            <option value="2">Zoom</option>
        </select>
        <mat-error *ngIf="courseForm.get('learningMode')?.hasError('required')">Learning Mode is required</mat-error>

    </div>

    <div class="form-group">
        <label for="lecturerId">Lecturer:</label>
        <select class="form-control" id="lecturerId" formControlName="lecturerId" required>
            <option *ngFor="let lecturer of lecturers" [value]="lecturer.id">{{ lecturer.name }}</option>
        </select>
        <mat-error *ngIf="courseForm.get('lecturerId')?.hasError('required')">Lecturer is required</mat-error>

    </div>

    <div>
        <label for="image">Image URL:</label>
        <input type="text" id="image" formControlName="image">
        <!-- <div *ngIf="courseForm.get('image')?.invalid && courseForm.get('image')?.touched" class="error-message">
            Image URL is required
        </div> -->
        <mat-error *ngIf="courseForm.get('image')?.hasError('required')">Image URL is required</mat-error>

    </div>

    <div *ngIf="course">
        <button type="button" (click)="fetchf(course)">ביטול</button>
    </div>

    <button type="submit" [disabled]="courseForm.invalid">שמירה</button>
</form>

<!-- <form [formGroup]="courseForm" (ngSubmit)="onSubmit()">
    <div>
        <label for="name">Course Name:</label>
        <input type="text" id="name" formControlName="name">
        <div *ngIf="courseForm.get('name')?.errors">
            <div class="alert alert-danger" *ngIf="courseForm.get('name')?.errors['required']">Course name is required</div>
            <div class="alert alert-danger" *ngIf="courseForm.get('name')?.errors['minlength']">Course name must be at least 3 characters long</div>
        </div>
    </div>

    <div class="form-group">
        <label for="categoryId">Category:</label>
        <select class="form-control" id="categoryId" formControlName="categoryId" required>
            <option *ngFor="let category of categories" [value]="category.id">{{ category.name }}</option>
        </select>
        <div *ngIf="courseForm.get('categoryId')?.errors">
            <div class="alert alert-danger" *ngIf="courseForm.get('categoryId')?.errors['required']">Category is required</div>
        </div>
    </div>

    <div>
        <label for="lessonCount">Lesson Count:</label>
        <input type="number" id="lessonCount" formControlName="lessonCount">
        <div *ngIf="courseForm.get('lessonCount')?.errors">
            <div class="alert alert-danger" *ngIf="courseForm.get('lessonCount')?.errors['required']">Lesson count is required</div>
            <div class="alert alert-danger" *ngIf="courseForm.get('lessonCount')?.errors['min']">Lesson count must be at least 3</div>
            <div class="alert alert-danger" *ngIf="courseForm.get('lessonCount')?.errors['pattern']">Lesson count must be a number</div>
        </div>
    </div>

    <div>
        <label for="startDate">Start Date:</label>
        <input type="date" id="startDate" formControlName="startDate">
        <div *ngIf="courseForm.get('startDate')?.errors">
            <div class="alert alert-danger" *ngIf="courseForm.get('startDate')?.errors['required']">Start date is required</div>
        </div>
    </div>

    <div formArrayName="syllabus">
        <label for="syllabus">Syllabus: </label>
        <div *ngFor="let syllabusControl of syllabusControls.controls; let i = index;">
            <input type="text" [formControlName]="i" (change)="onInputChange()">
            <div *ngIf="syllabusControls.at(i).errors">
                <div class="alert alert-danger" *ngIf="syllabusControls.at(i).errors['required']">Syllabus item is required</div>
            </div>
        </div>
    </div>

    <div class="form-group">
        <label for="learningMode">Learning Mode</label>
        <select class="form-control" id="learningMode" formControlName="learningMode">
            <option value="1">Frontal</option>
            <option value="2">Zoom</option>
        </select>
        <div *ngIf="courseForm.get('learningMode')?.errors">
            <div class="alert alert-danger" *ngIf="courseForm.get('learningMode')?.errors['required']">Learning mode is required</div>
        </div>
    </div>

    <div class="form-group">
        <label for="lecturerId">Lecturer:</label>
        <select class="form-control" id="lecturerId" formControlName="lecturerId" required>
            <option *ngFor="let lecturer of lecturers" [value]="lecturer.id">{{ lecturer.name }}</option>
        </select>
        <div *ngIf="courseForm.get('lecturerId')?.errors">
            <div class="alert alert-danger" *ngIf="courseForm.get('lecturerId')?.errors['required']">Lecturer is required</div>
        </div>
    </div>

    <div>
        <label for="image">Image URL:</label>
        <input type="text" id="image" formControlName="image">
        <div *ngIf="courseForm.get('image')?.errors">
            <div class="alert alert-danger" *ngIf="courseForm.get('image')?.errors['required']">Image URL is required</div>
        </div>
    </div>

    <div *ngIf="course">
        <button type="button" (click)="fetchf(course)">Cancel</button>
    </div>

    <button type="submit" [disabled]="courseForm.invalid">Save</button>
</form> -->